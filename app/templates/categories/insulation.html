{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/cart.css' %}">
{% endblock %}

{% block content %}
 <div class="nav">
      <a href="{% url 'category' 'aggregates' %}">Aggregates</a>
      <a href="{% url 'category' 'bricks-blocks' %}">Bricks</a>
      <a href="{% url 'category' 'cement' %}">Cement</a>
      <a href="{% url 'category' 'doors-windows' %}">Doors</a>
      <a href="{% url 'category' 'electrical' %}">Electrical</a>
      <a href="{% url 'category' 'glass-glazing' %}">Glass</a>
      <a href="{% url 'category' 'flooring' %}">Flooring</a>
      <a href="{% url 'category' 'interior-designs' %}">Interior Designs</a>
      <a href="{% url 'category' 'plumbing' %}">Plumbing</a>
      <a href="{% url 'category' 'paints' %}">Paints</a>
      <a href="{% url 'category' 'roofing' %}">Roofing</a>
      <a href="{% url 'category' 'sanitaryware' %}">Sanitaryware</a>
      <a href="{% url 'category' 'sand' %}">Sand</a>
      <a href="{% url 'category' 'tmt' %}">TMT Bars</a>
  </div>
<!-- MAIN CONTENT -->
<main class="container">
  <h1 class="page-title">Insulations</h1>
  <div class="category-title">Thermal & Acoustic Insulation Materials</div>

  <section class="grid" id="products-grid"></section>
</main>

<!-- QUICK VIEW MODAL -->
<div id="modal" class="modal" aria-hidden="true" role="dialog">
  <div class="modal-box">

    <button id="closeModal" class="modal-close" aria-label="Close">×</button>

    <div class="modal-left">
      <img id="modalImg" class="modal-img" alt="product image">
    </div>

    <div class="modal-right">
      <h2 id="modalTitle"></h2>
      <p id="modalDesc" class="modal-desc"></p>

      <div id="modalTags" class="tag-container"></div>

      <h3 class="modal-price">
        ₹<span id="modalPrice"></span>
      </h3>

      <label for="modalQty">Qty</label>
      <input type="number" id="modalQty" value="1" min="1" class="qty-input">

      <div class="modal-buttons">
        <button class="add-btn" id="modalAddToCart">Add to cart</button>
        <a href="#" class="order-btn">Go to order</a>
      </div>
    </div>

  </div>
</div>

<!-- JS -->
<script src="{% static 'js/cart.js' %}"></script>

<script>
/* ---------------------------
   INSULATION PRODUCTS
--------------------------- */
const productsArray = [
  {
    id: "ins-mineral-wool",
    name: "Mineral Wool (Rockwool)",
    price: 1800,
    tags: ["Thermal Insulation","Fire-resistant","Roof & Wall","High Temperature","Bulk Booking"],
    img: "{% static 'images/insulation/Mineral Wool .png' %}",
    desc: "High-temperature mineral wool for thermal and acoustic insulation."
  },
  {
    id: "ins-glass-wool",
    name: "Glass Wool",
    price: 1400,
    tags: ["Lightweight","Acoustic","Ceiling Use","Bulk Booking"],
    img: "{% static 'images/insulation/Glass Wool.png' %}",
    desc: "Flexible glass wool batts for partitions and ceiling insulation."
  },
  {
    id: "ins-eps",
    name: "Expanded Polystyrene (EPS)",
    price: 999,
    tags: ["Lightweight","Economical","Moisture Resistant"],
    img: "{% static 'images/insulation/Expanded Polystyrene (EPS).png' %}",
    desc: "EPS boards for cavity and wall insulation."
  },
  {
    id: "ins-xps",
    name: "Extruded Polystyrene (XPS)",
    price: 1650,
    tags: ["Rigid","Waterproof","Foundation Use"],
    img: "{% static 'images/insulation/Extruded Polystyrene (XPS).png' %}",
    desc: "XPS rigid insulation boards with high compressive strength."
  },
  {
    id: "ins-pu",
    name: "Polyurethane (PU) Foam Board",
    price: 3200,
    tags: ["High R-Value","Cold Room","Lightweight"],
    img: "{% static 'images/insulation/Polyurethane (PU) Foam Board.PNG' %}",
    desc: "PU foam panels with high thermal resistance."
  },
  {
    id: "ins-pir",
    name: "PIR Insulation Board",
    price: 3400,
    tags: ["High Performance","Fire Retardant"],
    img: "{% static 'images/insulation/PIR Insulation Board.png' %}",
    desc: "PIR boards offering superior thermal efficiency."
  },
  {
    id: "ins-reflective",
    name: "Reflective Foil Insulation",
    price: 550,
    tags: ["Reflective","Radiant Barrier","Roof Use"],
    img: "{% static 'images/insulation/Reflective Foil Insulatio.png' %}",
    desc: "Multi-layer reflective foil for heat insulation."
  },
  {
    id: "ins-cellular-glass",
    name: "Cellular Glass (Foam Glass)",
    price: 4200,
    tags: ["Moisture Proof","Durable","Underground Use"],
    img: "{% static 'images/insulation/Cellular Glass (Foam Glass).png' %}",
    desc: "Closed-cell foam glass insulation for underground use."
  },
  {
    id: "ins-acoustic-panel",
    name: "Acoustic Panel (Fiberglass)",
    price: 2200,
    tags: ["Acoustic","Studios","Auditoriums"],
    img: "{% static 'images/insulation/Acoustic Panel (Fiberglass).png' %}",
    desc: "Decorative fiberglass acoustic panels."
  },
  {
    id: "ins-blanket",
    name: "Insulation Blanket (Firewrap)",
    price: 900,
    tags: ["Fire Protection","Pipe Wrapping"],
    img: "{% static 'images/insulation/Insulation Blanket (Firewrap).png' %}",
    desc: "Flexible fiberglass insulation blanket for ducts and pipes."
  }
];

/* INIT */
document.addEventListener("DOMContentLoaded", () => {
  renderProducts(productsArray, "products-grid");
  updateCartBadge();
});
</script>

{% endblock %}
