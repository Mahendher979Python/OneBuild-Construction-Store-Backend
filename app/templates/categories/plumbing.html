{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/cart.css' %}">
{% endblock %}

{% block content %}

 <div class="nav">
      <a href="{% url 'category' 'aggregates' %}">Aggregates</a>
      <a href="{% url 'category' 'bricks-blocks' %}">Bricks</a>
      <a href="{% url 'category' 'cement' %}">Cement</a>
      <a href="{% url 'category' 'doors-windows' %}">Doors</a>
      <a href="{% url 'category' 'electrical' %}">Electrical</a>
      <a href="{% url 'category' 'glass-glazing' %}">Glass</a>
      <a href="{% url 'category' 'flooring' %}">Flooring</a>
      <a href="{% url 'category' 'interior-designs' %}">Interior Designs</a>
      <a href="{% url 'category' 'insulation' %}">Insulation</a>
      <a href="{% url 'category' 'paints' %}">Paints</a>
      <a href="{% url 'category' 'roofing' %}">Roofing</a>
      <a href="{% url 'category' 'sanitaryware' %}">Sanitaryware</a>
      <a href="{% url 'category' 'sand' %}">Sand</a>
      <a href="{% url 'category' 'tmt' %}">TMT Bars</a>
  </div>
<!-- MAIN CONTENT -->
<main class="container">
  <h1 class="page-title">Plumbing</h1>
  <div class="category-title">Pipes, Fittings & Water Supply Items</div>

  <section class="grid" id="products-grid"></section>
</main>

<!-- QUICK VIEW MODAL -->
<div id="modal" class="modal" aria-hidden="true" role="dialog">
  <div class="modal-box">

    <button id="closeModal" class="modal-close" aria-label="Close">×</button>

    <div class="modal-left">
      <img id="modalImg" class="modal-img" alt="product image">
    </div>

    <div class="modal-right">
      <h2 id="modalTitle"></h2>
      <p id="modalDesc" class="modal-desc"></p>

      <div id="modalTags" class="tag-container"></div>

      <h3 class="modal-price">₹<span id="modalPrice"></span></h3>

      <label for="modalQty">Qty</label>
      <input type="number" id="modalQty" value="1" min="1" class="qty-input">

      <div class="modal-buttons">
        <button class="add-btn" id="modalAddToCart">Add to cart</button>
        <a href="#" class="order-btn">Go to order</a>
      </div>
    </div>

  </div>
</div>

<!-- JS -->
<script src="{% static 'js/cart.js' %}"></script>

<script>
/* ---------------------------
   PLUMBING PRODUCTS DATA
--------------------------- */
const productsArray = [
  {
    id: "plumb-upvc",
    name: "UPVC Pipe (3m)",
    price: 320,
    tags: ["UPVC","Cold Water","Durable","Easy Install","Bulk"],
    img: "{% static 'images/plumbing/plumbingCPVCPipe.png' %}",
    desc: "UPVC pipe suitable for cold water plumbing with corrosion resistance."
  },
  {
    id: "plumb-cpvc",
    name: "CPVC Pipe (3m)",
    price: 450,
    tags: ["CPVC","Hot & Cold","High Temp","Safe Water","Bulk"],
    img: "{% static 'images/plumbing/pvcbulk.png' %}",
    desc: "CPVC pipe ideal for hot and cold water supply applications."
  },
  {
    id: "plumb-pvc",
    name: "PVC Drainage Pipe",
    price: 280,
    tags: ["PVC","Drainage","Lightweight","Smooth Flow","Bulk"],
    img: "{% static 'images/plumbing/drainaz.png' %}",
    desc: "PVC pipe for drainage and sewer systems."
  },
  {
    id: "plumb-tap",
    name: "Water Tap (Brass)",
    price: 199,
    tags: ["Brass","Rust Resistant","Indoor","Outdoor","Bulk"],
    img: "{% static 'images/plumbing/watertop.png' %}",
    desc: "Durable brass tap suitable for kitchen and outdoor use."
  },
  {
    id: "plumb-angle-valve",
    name: "Angle Valve",
    price: 149,
    tags: ["Chrome","Control Valve","Wash Basin","Flush Tank","Bulk"],
    img: "{% static 'images/plumbing/Angle Valve.png' %}",
    desc: "Angle valve for precise water flow control."
  },
  {
    id: "plumb-flush",
    name: "Flush Tank",
    price: 1200,
    tags: ["Dual Flush","Water Saving","Bathroom","Durable","Bulk"],
    img: "{% static 'images/plumbing/plumblingFlushTank.png' %}",
    desc: "Dual flush toilet tank for water saving bathroom solutions."
  },
  {
    id: "plumb-shower",
    name: "Shower Head",
    price: 850,
    tags: ["Rain Shower","Chrome","Smooth Flow","Easy Mount","Bulk"],
    img: "{% static 'images/plumbing/plumblingShowerHead.png' %}",
    desc: "Rain-style shower head with wide water coverage."
  },
  {
    id: "plumb-floor-trap",
    name: "Floor Trap (SS)",
    price: 450,
    tags: ["Stainless Steel","Drainage","Bathroom","Rust Free","Bulk"],
    img: "{% static 'images/plumbing/plumblingfloorTrappng.png' %}",
    desc: "Stainless steel floor trap for effective drainage."
  },
  {
    id: "plumb-sink",
    name: "Kitchen Sink (SS)",
    price: 3500,
    tags: ["Stainless Steel","Kitchen","Noise Reduction","Durable","Bulk"],
    img: "{% static 'images/plumbing/plumblingkitchenSink.png' %}",
    desc: "Premium stainless steel kitchen sink with noise reduction."
  },
  {
    id: "plumb-meter",
    name: "Water Meter",
    price: 1600,
    tags: ["Accurate","Domestic","Easy Install","Durable"],
    img: "{% static 'images/plumbing/plunblingwatertap.png' %}",
    desc: "Domestic water meter for accurate water usage measurement."
  }
];

/* INIT */
document.addEventListener("DOMContentLoaded", () => {
  renderProducts(productsArray, "products-grid");
  updateCartBadge();
});
</script>

{% endblock %}
